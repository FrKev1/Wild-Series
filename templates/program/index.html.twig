{% extends 'base.html.twig' %}

{% block title %}{{'Programs'|trans}}{% endblock %}

{% block body %}
{{ app.session.get('total') }}
    <h1>{{'All.programs'|trans}} </h1>
        
        {{ form_start(form) }}
        {{ form_widget(form) }}
            <button class="btn">search</button>
        {{ form_end(form) }}

    {% for program in programs %}
        <div>
            <h2>{{ loop.index }} / {{ program.title }} - Category : {{ program.category.name }}</h2>
            <p>{{ program.summary }}</p>
            <a  class="nav-link" href="{{ path("program_show", { 'slug': program.slug }) }}">See the notice</a>
            <a  class="nav-link" href="{{ path("program_edit", { slug: program.slug }) }}">Edit</a>
        </div>
    {% else %}
        No series found
    {% endfor %}

    <a class="nav-link" href="{{ path('program_new') }}">Add a new serie</a>
    <a class="nav-link" href="{{ path('app_index') }}">Back to home</a>
    
{% endblock %}